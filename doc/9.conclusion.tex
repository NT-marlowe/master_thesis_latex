\chapter{結論}
\label{chap:conclusion}
\section{まとめ}
本研究では，今日ますます増大するランサムウェアの脅威に対する防御を提供するために，
ランサムウェアによる侵害からデータを保護する手法を提案した．
提案手法ではランサムウェア攻撃の見逃しを減らす方針で調整された検知手法を利用してランサムウェアの疑いがあるユーザプロセスを特定する．
そして，提案手法はそのプロセスの挙動に対して，ファイル単位でリアクティブにデータのバックアップを作成し
ランサムウェアから隔離された領域に退避させる．
このアプローチにより，従来のスナップショット方式の課題であった運用コストとデータ損失を解決する．
提案手法を実現するソフトウェアシステムとしてFugaを設計し，実装を行った．
Fugaの実装にはeBPFを活用し，Linux上で動作するアプリケーションとして開発を行った．
実装の際には予備実験にて特定したボトルネックの高速化を実施した．
そして，ランサムウェアの機能を模した簡易なプログラムを用いて，Fugaのデータ保護性能と性能上のオーバーヘッドを評価した．
評価結果から，Fugaがランサムウェアの暗号化スピードに対して十分なデータ退避性能をもち，
Fugaを動作させるホストマシンへの性能上の影響が軽微であることを確認した．

\section{今後の課題}
% 本研究では，Fugaの設計に基づき，Linux環境を想定した実装を行なった．
ランサムウェア攻撃の7割以上がWindows OSを標的としている \cite{trendmicro-report} ことを考慮すると，
Linux環境にとどまらず，Windows環境における実装の検討は，Fugaの実用性の向上に寄与すると考えられる．
% しかしランサムウェア攻撃の7割以上がWindows OSを標的としている \cite{trendmicro-report} ことを考慮すると，
% 実用性の観点からWindows環境における実装も検討する必要がある．
% 本稿で示したLinux環境での実装は，Linuxカーネルの実装に強く依存しており，
% Windows環境への移植には大幅な改修が求められる．
また，保護対象のファイルを条件設定可能にすることで，有用性とデータ退避性能の向上が期待される．
例えば，特定のパスやディレクトリ以下のファイルのみを保護対象とするフィルタリングを導入すれば，
スナップショットによる全体保存と高頻度に更新されるファイルの効率的な保護を両立できる．
また，大容量ファイルを保護対象から除外することで，他のファイルの保護性能への影響を軽減できる．
% また，保護対象のファイルの条件を設定可能にすることによって，有用性およびデータ退避性能の改善が期待できる，
% 具体的には，ファイルパスに基づいたフィルタリング，つまり特定のパスまたはディレクトリ以下に存在するファイルのみを保護対象とする方法が考えられる．
% このような設定が可能になれば，スナップショットによってファイルシステムやOS全体の状態を保存しつつ，
% 頻繁に更新される高価値なファイルをFugaによって保護するという補完的な運用が，より効率的に実現できる．
% また，Fugaでは完全な保護が難しい大容量ファイルを保護対象から除外することで，
% それらの退避処理がその他のファイルの保護性能に与える影響を軽減することができる．


% Fugaの設計では，ランサムウェアによる侵害から隔離されたデータ領域であるData Shelterを想定した．
% 本稿で示した実装では，Data Shelterを管理者権限を持つユーザのみがアクセス可能なディレクトリとして構築した．
% しかし\ref{subsec:data-shelter}節で述べたように，これはData Shelterの唯一の構築方法ではないため，
% 他の形態のData Shelterについても実装と評価を行うことが望ましい．
% 特にリモートホストを利用する方法では，ランサムウェアに感染したホストと退避先のホストを物理的に分離することができるため
% Data Shelterの信頼性を向上させることができる．
% ただし，ホスト間の通信のスループットや遅延がデータ保護性能に影響を与える可能性があり，その影響を評価する必要がある．
% Fugaは，保護対象のファイルの条件を設定可能にすることで，実用性の向上が期待される．

本研究では，ランサムウェアからデータを保護する手法を提案し，
そして提案手法を実現するシステムとしてFugaの設計と実装を行った．
しかし，Fugaを包括的なランサムウェア防御システムとして拡張することは，増大するランサムウェアの脅威に対抗するための重要な一歩となると筆者は考える．
ランサムウェア防御のさらなる発展に向けて，以下の課題に取り組む必要がある．
\\
% \textbf{Detectorとその他のコンポーネントとの連携を具体化する}ことが挙げられる．
\textbf{Detectorとその他のコンポーネントとの連携を具体化する}：
本研究ではDetectorの機能を先行研究に委ねて具体的な検知手法の検討は行わなかったが，Fugaと相性のよい検知手法を選定し，評価することが求められる．
ランサムウェアの見逃し率が低く，検知レイテンシが小さい手法が好ましい．
% また，Detectorが検知したユーザプロセスに対してProcess Monitorが自動的に隔離または振る舞いの制限を行うような連携を実現することで，
% そのプロセスがランサムウェアだった場合の侵害範囲を最小化することができる．
% 検知されたプロセスに対しcgroupやnamespaceを用いてリソース制限を行うことで，本研究において特定された性能上の課題が解決される可能性もある．
% 
さらに，Detector が検知したプロセスに対してProcess Monitorが自動的にリソース制限や振る舞いの制御を行う仕組みを導入することで，
侵害範囲を最小化できる．具体的には，cgroupやnamespaceのような機能を活用して検知されたプロセスのディスク書き込み速度を制限したり，
アクセス可能なファイルを制御したりすることで，大容量ファイルの保護が困難な現行システムの性能上の課題を軽減できる．
このような動的なリソース管理により，ランサムウェアの暗号化速度を抑制し，退避処理の成功率を向上させる可能性がある．
\\
% 加えて，\textbf{ランサムウェア攻撃後の対応を効率化する}ことも重要な方向性である．
\textbf{ランサムウェア攻撃後の対応を効率化する}：
本研究では Data Shelter に退避されたデータを用いた復旧の詳細は議論していないが，
セキュリティとレジリエンスを向上させるためには，管理者の作業負担を最小限に抑えることが求められる．
そのため，侵害されたデータを自動復旧する仕組みの構築が必要である．
% 本研究においてData Shelterに退避されたデータを使用した復旧の詳細は議論していないが，セキュリティの観点からレジリエンスを向上させるためには，
% システム管理者による作業を最小限に抑えることが望ましい．
% そのため，侵害されたデータの自動復旧を行うフローを構築することが求められる．
% Fugaは誤検知から発生するコストを緩和するとしているが，この自動復旧フローでは，不必要な復旧によるデータ消失が発生しうるため，緩和策が必要である．
ただし，自動復旧のプロセスでは，誤検知が原因で不要な復旧処理が行われ，データ消失につながる可能性がある．このリスクを緩和するために，復旧フローにデータ整合性の検証や復旧範囲の確認を含めることが重要である．
\\
% 最後に，\textbf{Data Shelterの信頼性を向上させる}ための取り組みが挙げられる．
\textbf{Data Shelterの信頼性を向上させる}：
具体的には，
Data Shelterとして分散ストレージやクラウドストレージを採用することで，セキュリティを強化し，バックアップの堅牢性を高めることが考えられる．
さらに，保存データを暗号化して第三者の不正閲覧を防止したり，バージョン管理機能を導入して柔軟なデータ復旧を可能にすることも効果的な手法として期待される．
% データ復旧をより柔軟に行えるようにすることも有効である．
